(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.handleNewMsg = void 0;

var _sockets = require("./sockets");

var messages = document.querySelector("#jsMessages");
var sendMsg = document.querySelector("#jsSendMessage");

var appendMsg = function appendMsg(text, nickname) {
  var li = document.createElement("li");
  li.innerHTML = "\n        <span class=\"author ".concat(nickname ? "other" : "self", "\">").concat(nickname ? nickname : "You", "</span> <span> : ").concat(text, "</span>\n    ");
  messages.appendChild(li);
  messages.scrollTop = messages.scrollHeight;
};

var handleSendMsg = function handleSendMsg(event) {
  event.preventDefault();
  var input = sendMsg.querySelector("input");
  var value = input.value;
  input.value = "";
  appendMsg(value);

  _sockets.socket.emit(_sockets.events.sendMsg, {
    message: value
  });
};

var handleNewMsg = function handleNewMsg(_ref) {
  var nickname = _ref.nickname,
      message = _ref.message;
  appendMsg(message, nickname);
};

exports.handleNewMsg = handleNewMsg;

if (sendMsg) {
  sendMsg.addEventListener("submit", handleSendMsg);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXQuanMiXSwibmFtZXMiOlsibWVzc2FnZXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzZW5kTXNnIiwiYXBwZW5kTXNnIiwidGV4dCIsIm5pY2tuYW1lIiwibGkiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJoYW5kbGVTZW5kTXNnIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0IiwidmFsdWUiLCJzb2NrZXQiLCJlbWl0IiwiZXZlbnRzIiwibWVzc2FnZSIsImhhbmRsZU5ld01zZyIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFNQSxRQUFRLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixhQUF2QixDQUFqQjtBQUNBLElBQU1DLE9BQU8sR0FBR0YsUUFBUSxDQUFDQyxhQUFULENBQXVCLGdCQUF2QixDQUFoQjs7QUFFQSxJQUFNRSxTQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUFDQyxJQUFELEVBQU9DLFFBQVAsRUFBb0I7QUFDbEMsTUFBTUMsRUFBRSxHQUFHTixRQUFRLENBQUNPLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBWDtBQUNBRCxFQUFBQSxFQUFFLENBQUNFLFNBQUgsNENBQzBCSCxRQUFRLEdBQUcsT0FBSCxHQUFhLE1BRC9DLGdCQUVJQSxRQUFRLEdBQUdBLFFBQUgsR0FBYyxLQUYxQiw4QkFHb0JELElBSHBCO0FBS0FMLEVBQUFBLFFBQVEsQ0FBQ1UsV0FBVCxDQUFxQkgsRUFBckI7QUFDQVAsRUFBQUEsUUFBUSxDQUFDVyxTQUFULEdBQXFCWCxRQUFRLENBQUNZLFlBQTlCO0FBQ0gsQ0FURDs7QUFXQSxJQUFNQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLENBQUNDLEtBQUQsRUFBVztBQUM3QkEsRUFBQUEsS0FBSyxDQUFDQyxjQUFOO0FBQ0EsTUFBTUMsS0FBSyxHQUFHYixPQUFPLENBQUNELGFBQVIsQ0FBc0IsT0FBdEIsQ0FBZDtBQUY2QixNQUdyQmUsS0FIcUIsR0FHWEQsS0FIVyxDQUdyQkMsS0FIcUI7QUFJN0JELEVBQUFBLEtBQUssQ0FBQ0MsS0FBTixHQUFjLEVBQWQ7QUFDQWIsRUFBQUEsU0FBUyxDQUFDYSxLQUFELENBQVQ7O0FBQ0FDLGtCQUFPQyxJQUFQLENBQVlDLGdCQUFPakIsT0FBbkIsRUFBNEI7QUFDeEJrQixJQUFBQSxPQUFPLEVBQUVKO0FBRGUsR0FBNUI7QUFHSCxDQVREOztBQVdPLElBQU1LLFlBQVksR0FBRyxTQUFmQSxZQUFlLE9BQTJCO0FBQUEsTUFBeEJoQixRQUF3QixRQUF4QkEsUUFBd0I7QUFBQSxNQUFkZSxPQUFjLFFBQWRBLE9BQWM7QUFDbkRqQixFQUFBQSxTQUFTLENBQUNpQixPQUFELEVBQVVmLFFBQVYsQ0FBVDtBQUNILENBRk07Ozs7QUFJUCxJQUFJSCxPQUFKLEVBQWE7QUFDVEEsRUFBQUEsT0FBTyxDQUFDb0IsZ0JBQVIsQ0FBeUIsUUFBekIsRUFBbUNWLGFBQW5DO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzb2NrZXQsIGV2ZW50cyB9IGZyb20gXCIuL3NvY2tldHNcIjtcclxuXHJcbmNvbnN0IG1lc3NhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqc01lc3NhZ2VzXCIpO1xyXG5jb25zdCBzZW5kTXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqc1NlbmRNZXNzYWdlXCIpO1xyXG5cclxuY29uc3QgYXBwZW5kTXNnID0gKHRleHQsIG5pY2tuYW1lKSA9PiB7XHJcbiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgIGxpLmlubmVySFRNTCA9IGBcclxuICAgICAgICA8c3BhbiBjbGFzcz1cImF1dGhvciAke25pY2tuYW1lID8gXCJvdGhlclwiIDogXCJzZWxmXCJ9XCI+JHtcclxuICAgICAgICBuaWNrbmFtZSA/IG5pY2tuYW1lIDogXCJZb3VcIlxyXG4gICAgfTwvc3Bhbj4gPHNwYW4+IDogJHt0ZXh0fTwvc3Bhbj5cclxuICAgIGA7XHJcbiAgICBtZXNzYWdlcy5hcHBlbmRDaGlsZChsaSk7XHJcbiAgICBtZXNzYWdlcy5zY3JvbGxUb3AgPSBtZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVTZW5kTXNnID0gKGV2ZW50KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgaW5wdXQgPSBzZW5kTXNnLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcclxuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGlucHV0O1xyXG4gICAgaW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgYXBwZW5kTXNnKHZhbHVlKTtcclxuICAgIHNvY2tldC5lbWl0KGV2ZW50cy5zZW5kTXNnLCB7XHJcbiAgICAgICAgbWVzc2FnZTogdmFsdWUsXHJcbiAgICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVOZXdNc2cgPSAoeyBuaWNrbmFtZSwgbWVzc2FnZSB9KSA9PiB7XHJcbiAgICBhcHBlbmRNc2cobWVzc2FnZSwgbmlja25hbWUpO1xyXG59O1xyXG5cclxuaWYgKHNlbmRNc2cpIHtcclxuICAgIHNlbmRNc2cuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVTZW5kTXNnKTtcclxufVxyXG4iXX0=
},{"./sockets":6}],2:[function(require,module,exports){
"use strict";

require("./sockets");

require("./login");

require("./chat");

require("./paint");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZha2VfZjY3YjY0YTguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4vc29ja2V0c1wiO1xyXG5pbXBvcnQgXCIuL2xvZ2luXCI7XHJcbmltcG9ydCBcIi4vY2hhdFwiO1xyXG5pbXBvcnQgXCIuL3BhaW50XCI7XHJcbiJdfQ==
},{"./chat":1,"./login":3,"./paint":5,"./sockets":6}],3:[function(require,module,exports){
"use strict";

var _sockets = require("./sockets");

var body = document.querySelector("body");
var loginForm = document.querySelector("#jsLogin");
var LS_KEY_NICKNAME = "nickname";
var LOGGED_OUT = "loggedOut";
var LOGGED_IN = "loggedIn";
var nickname = localStorage.getItem(LS_KEY_NICKNAME);

var logIn = function logIn(nickname) {
  body.className = LOGGED_IN;
  (0, _sockets.initSockets)();

  _sockets.socket.emit(_sockets.events.setNickname, {
    nickname: nickname
  });
};

if (nickname === null) {
  body.className = LOGGED_OUT;
} else {
  logIn(nickname);
}

if (loginForm) {
  var handleFormSubmit = function handleFormSubmit(event) {
    event.preventDefault();
    var input = loginForm.querySelector("input");
    var nickname = input.value;
    input.value = "";
    localStorage.setItem(LS_KEY_NICKNAME, nickname);
    logIn(nickname);
  };

  loginForm.addEventListener("submit", handleFormSubmit);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmpzIl0sIm5hbWVzIjpbImJvZHkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJsb2dpbkZvcm0iLCJMU19LRVlfTklDS05BTUUiLCJMT0dHRURfT1VUIiwiTE9HR0VEX0lOIiwibmlja25hbWUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibG9nSW4iLCJjbGFzc05hbWUiLCJzb2NrZXQiLCJlbWl0IiwiZXZlbnRzIiwic2V0Tmlja25hbWUiLCJoYW5kbGVGb3JtU3VibWl0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0IiwidmFsdWUiLCJzZXRJdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFFQSxJQUFNQSxJQUFJLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixNQUF2QixDQUFiO0FBQ0EsSUFBTUMsU0FBUyxHQUFHRixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsVUFBdkIsQ0FBbEI7QUFFQSxJQUFNRSxlQUFlLEdBQUcsVUFBeEI7QUFDQSxJQUFNQyxVQUFVLEdBQUcsV0FBbkI7QUFDQSxJQUFNQyxTQUFTLEdBQUcsVUFBbEI7QUFFQSxJQUFNQyxRQUFRLEdBQUdDLFlBQVksQ0FBQ0MsT0FBYixDQUFxQkwsZUFBckIsQ0FBakI7O0FBRUEsSUFBTU0sS0FBSyxHQUFHLFNBQVJBLEtBQVEsQ0FBQ0gsUUFBRCxFQUFjO0FBQ3hCUCxFQUFBQSxJQUFJLENBQUNXLFNBQUwsR0FBaUJMLFNBQWpCO0FBQ0E7O0FBQ0FNLGtCQUFPQyxJQUFQLENBQVlDLGdCQUFPQyxXQUFuQixFQUFnQztBQUFFUixJQUFBQSxRQUFRLEVBQVJBO0FBQUYsR0FBaEM7QUFDSCxDQUpEOztBQU1BLElBQUlBLFFBQVEsS0FBSyxJQUFqQixFQUF1QjtBQUNuQlAsRUFBQUEsSUFBSSxDQUFDVyxTQUFMLEdBQWlCTixVQUFqQjtBQUNILENBRkQsTUFFTztBQUNISyxFQUFBQSxLQUFLLENBQUNILFFBQUQsQ0FBTDtBQUNIOztBQUVELElBQUlKLFNBQUosRUFBZTtBQUNYLE1BQU1hLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBQ0MsS0FBRCxFQUFXO0FBQ2hDQSxJQUFBQSxLQUFLLENBQUNDLGNBQU47QUFDQSxRQUFNQyxLQUFLLEdBQUdoQixTQUFTLENBQUNELGFBQVYsQ0FBd0IsT0FBeEIsQ0FBZDtBQUZnQyxRQUdqQkssUUFIaUIsR0FHSlksS0FISSxDQUd4QkMsS0FId0I7QUFJaENELElBQUFBLEtBQUssQ0FBQ0MsS0FBTixHQUFjLEVBQWQ7QUFDQVosSUFBQUEsWUFBWSxDQUFDYSxPQUFiLENBQXFCakIsZUFBckIsRUFBc0NHLFFBQXRDO0FBQ0FHLElBQUFBLEtBQUssQ0FBQ0gsUUFBRCxDQUFMO0FBQ0gsR0FQRDs7QUFRQUosRUFBQUEsU0FBUyxDQUFDbUIsZ0JBQVYsQ0FBMkIsUUFBM0IsRUFBcUNOLGdCQUFyQztBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdFNvY2tldHMsIHNvY2tldCwgZXZlbnRzIH0gZnJvbSBcIi4vc29ja2V0c1wiO1xyXG5cclxuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xyXG5jb25zdCBsb2dpbkZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pzTG9naW5cIik7XHJcblxyXG5jb25zdCBMU19LRVlfTklDS05BTUUgPSBcIm5pY2tuYW1lXCI7XHJcbmNvbnN0IExPR0dFRF9PVVQgPSBcImxvZ2dlZE91dFwiO1xyXG5jb25zdCBMT0dHRURfSU4gPSBcImxvZ2dlZEluXCI7XHJcblxyXG5jb25zdCBuaWNrbmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKExTX0tFWV9OSUNLTkFNRSk7XHJcblxyXG5jb25zdCBsb2dJbiA9IChuaWNrbmFtZSkgPT4ge1xyXG4gICAgYm9keS5jbGFzc05hbWUgPSBMT0dHRURfSU47XHJcbiAgICBpbml0U29ja2V0cygpO1xyXG4gICAgc29ja2V0LmVtaXQoZXZlbnRzLnNldE5pY2tuYW1lLCB7IG5pY2tuYW1lIH0pO1xyXG59O1xyXG5cclxuaWYgKG5pY2tuYW1lID09PSBudWxsKSB7XHJcbiAgICBib2R5LmNsYXNzTmFtZSA9IExPR0dFRF9PVVQ7XHJcbn0gZWxzZSB7XHJcbiAgICBsb2dJbihuaWNrbmFtZSk7XHJcbn1cclxuXHJcbmlmIChsb2dpbkZvcm0pIHtcclxuICAgIGNvbnN0IGhhbmRsZUZvcm1TdWJtaXQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gbG9naW5Gb3JtLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcclxuICAgICAgICBjb25zdCB7IHZhbHVlOiBuaWNrbmFtZSB9ID0gaW5wdXQ7XHJcbiAgICAgICAgaW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExTX0tFWV9OSUNLTkFNRSwgbmlja25hbWUpO1xyXG4gICAgICAgIGxvZ0luKG5pY2tuYW1lKTtcclxuICAgIH07XHJcbiAgICBsb2dpbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVGb3JtU3VibWl0KTtcclxufVxyXG4iXX0=
},{"./sockets":6}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.handleDisconnectedUser = exports.handleNewUser = void 0;

var _sockets = require("./sockets");

var notificationContainer = document.querySelector("#jsNotification");
var NEW_USER_COLOR = "#2196f3";
var DISCONNECTED_COLOR = "#D50000";

var fireNotification = function fireNotification(text, event) {
  var noti = document.createElement("div");
  noti.innerHTML = text;

  if (event === _sockets.events.newUser) {
    noti.style.backgroundColor = NEW_USER_COLOR;
  } else {
    noti.style.backgroundColor = DISCONNECTED_COLOR;
  }

  notificationContainer.appendChild(noti);
};

var handleNewUser = function handleNewUser(_ref) {
  var nickname = _ref.nickname;
  fireNotification("".concat(nickname, " just joins!"), _sockets.events.newUser);
};

exports.handleNewUser = handleNewUser;

var handleDisconnectedUser = function handleDisconnectedUser(_ref2) {
  var nickname = _ref2.nickname;
  fireNotification("".concat(nickname, " just left"), _sockets.events.disconnected);
};

exports.handleDisconnectedUser = handleDisconnectedUser;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGlmaWNhdGlvbnMuanMiXSwibmFtZXMiOlsibm90aWZpY2F0aW9uQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiTkVXX1VTRVJfQ09MT1IiLCJESVNDT05ORUNURURfQ09MT1IiLCJmaXJlTm90aWZpY2F0aW9uIiwidGV4dCIsImV2ZW50Iiwibm90aSIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJldmVudHMiLCJuZXdVc2VyIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhcHBlbmRDaGlsZCIsImhhbmRsZU5ld1VzZXIiLCJuaWNrbmFtZSIsImhhbmRsZURpc2Nvbm5lY3RlZFVzZXIiLCJkaXNjb25uZWN0ZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFNQSxxQkFBcUIsR0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLGlCQUF2QixDQUE5QjtBQUVBLElBQU1DLGNBQWMsR0FBRyxTQUF2QjtBQUNBLElBQU1DLGtCQUFrQixHQUFHLFNBQTNCOztBQUVBLElBQU1DLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBQ0MsSUFBRCxFQUFPQyxLQUFQLEVBQWlCO0FBQ3RDLE1BQU1DLElBQUksR0FBR1AsUUFBUSxDQUFDUSxhQUFULENBQXVCLEtBQXZCLENBQWI7QUFDQUQsRUFBQUEsSUFBSSxDQUFDRSxTQUFMLEdBQWlCSixJQUFqQjs7QUFDQSxNQUFJQyxLQUFLLEtBQUtJLGdCQUFPQyxPQUFyQixFQUE4QjtBQUMxQkosSUFBQUEsSUFBSSxDQUFDSyxLQUFMLENBQVdDLGVBQVgsR0FBNkJYLGNBQTdCO0FBQ0gsR0FGRCxNQUVPO0FBQ0hLLElBQUFBLElBQUksQ0FBQ0ssS0FBTCxDQUFXQyxlQUFYLEdBQTZCVixrQkFBN0I7QUFDSDs7QUFDREosRUFBQUEscUJBQXFCLENBQUNlLFdBQXRCLENBQWtDUCxJQUFsQztBQUNILENBVEQ7O0FBV08sSUFBTVEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixPQUFrQjtBQUFBLE1BQWZDLFFBQWUsUUFBZkEsUUFBZTtBQUMzQ1osRUFBQUEsZ0JBQWdCLFdBQUlZLFFBQUosbUJBQTRCTixnQkFBT0MsT0FBbkMsQ0FBaEI7QUFDSCxDQUZNOzs7O0FBSUEsSUFBTU0sc0JBQXNCLEdBQUcsU0FBekJBLHNCQUF5QixRQUFrQjtBQUFBLE1BQWZELFFBQWUsU0FBZkEsUUFBZTtBQUNwRFosRUFBQUEsZ0JBQWdCLFdBQUlZLFFBQUosaUJBQTBCTixnQkFBT1EsWUFBakMsQ0FBaEI7QUFDSCxDQUZNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXZlbnRzIH0gZnJvbSBcIi4vc29ja2V0c1wiO1xyXG5cclxuY29uc3Qgbm90aWZpY2F0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqc05vdGlmaWNhdGlvblwiKTtcclxuXHJcbmNvbnN0IE5FV19VU0VSX0NPTE9SID0gXCIjMjE5NmYzXCI7XHJcbmNvbnN0IERJU0NPTk5FQ1RFRF9DT0xPUiA9IFwiI0Q1MDAwMFwiO1xyXG5cclxuY29uc3QgZmlyZU5vdGlmaWNhdGlvbiA9ICh0ZXh0LCBldmVudCkgPT4ge1xyXG4gICAgY29uc3Qgbm90aSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBub3RpLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICBpZiAoZXZlbnQgPT09IGV2ZW50cy5uZXdVc2VyKSB7XHJcbiAgICAgICAgbm90aS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBORVdfVVNFUl9DT0xPUjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbm90aS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBESVNDT05ORUNURURfQ09MT1I7XHJcbiAgICB9XHJcbiAgICBub3RpZmljYXRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQobm90aSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaGFuZGxlTmV3VXNlciA9ICh7IG5pY2tuYW1lIH0pID0+IHtcclxuICAgIGZpcmVOb3RpZmljYXRpb24oYCR7bmlja25hbWV9IGp1c3Qgam9pbnMhYCwgZXZlbnRzLm5ld1VzZXIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGhhbmRsZURpc2Nvbm5lY3RlZFVzZXIgPSAoeyBuaWNrbmFtZSB9KSA9PiB7XHJcbiAgICBmaXJlTm90aWZpY2F0aW9uKGAke25pY2tuYW1lfSBqdXN0IGxlZnRgLCBldmVudHMuZGlzY29ubmVjdGVkKTtcclxufTtcclxuIl19
},{"./sockets":6}],5:[function(require,module,exports){
"use strict";

var canvas = document.querySelector("#jsCanvas");
var ctx = canvas.getContext("2d");
var btns = document.querySelector(".canvasContainer");
var paintingSize = document.querySelector("#jsBrushSize");
var isPainting = false;
var isFilling = false;

var clearCanvas = function clearCanvas() {
  var previousStyle = ctx.fillStyle;
  ctx.fillStyle = "white";
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = previousStyle;
};

var onMouseMove = function onMouseMove(event) {
  if (isFilling === true) {
    return;
  }

  var x = event.offsetX,
      y = event.offsetY;
  console.log(x, y);

  if (isPainting == false) {
    ctx.beginPath();
    ctx.moveTo(x, y);
  } else {
    ctx.lineTo(x, y);
    ctx.stroke();
  }
};

var startPainting = function startPainting() {
  isPainting = true;
};

var stopPainting = function stopPainting() {
  isPainting = false;
};

var onChangePaintingSize = function onChangePaintingSize(event) {
  ctx.lineWidth = event.target.value;
};

var onCanvasClick = function onCanvasClick(event) {
  if (isFilling === false) {
    return;
  }

  ctx.fillRect(0, 0, canvas.width, canvas.height);
};

var handleControl = function handleControl(control, btn) {
  switch (control) {
    case "fill":
      isFilling = true;
      btn.innerHTML = "PAINT";
      btn.dataset.value = "paint";
      break;

    case "paint":
      isFilling = false;
      btn.innerHTML = "FILL";
      btn.dataset.value = "fill";
      break;

    case "clear":
      clearCanvas();
      break;

    default:
      Error("unknowen control");
      break;
  }
};

var setColor = function setColor(value) {
  ctx.strokeStyle = value;
  ctx.fillStyle = ctx.strokeStyle;
};

var onBtnClick = function onBtnClick(event) {
  var _event$target$dataset = event.target.dataset,
      key = _event$target$dataset.key,
      value = _event$target$dataset.value;
  if (key == null || value == null) return;

  if (key === "control") {
    handleControl(value, event.target);
  } else if (key === "color") {
    setColor(value);
  }
};

var log = function log(text) {
  var span = document.createElement("span");
  span.innerText = text;
  btns.appendChild(span);
};

var onTouchStart = function onTouchStart(event) {
  event.preventDefault();

  if (isFilling) {
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    return;
  }

  ctx.beginPath();
  var rect = event.target.getBoundingClientRect();
  var x = event.targetTouches[0].pageX - rect.left;
  var y = event.targetTouches[0].pageY - rect.top;
  ctx.moveTo(x, y);
};

var onTouchMove = function onTouchMove(event) {
  event.preventDefault();
  var rect = event.target.getBoundingClientRect();
  var x = event.targetTouches[0].pageX - rect.left;
  var y = event.targetTouches[0].pageY - rect.top;
  ctx.lineTo(x, y);
  ctx.stroke();
};

var init = function init() {
  canvas.addEventListener("mousemove", onMouseMove);
  canvas.addEventListener("mousedown", startPainting);
  canvas.addEventListener("mouseup", stopPainting);
  canvas.addEventListener("mouseleave", stopPainting);
  canvas.addEventListener("click", onCanvasClick);
  canvas.addEventListener("contextmenu", function (event) {
    event.preventDefault();
  });
  canvas.addEventListener("touchmove", onTouchMove);
  canvas.addEventListener("touchstart", onTouchStart);
  canvas.addEventListener("touchend", stopPainting);
  canvas.addEventListener("touchcancel", stopPainting);
  canvas.width = canvas.clientWidth;
  canvas.height = canvas.clientHeight;
  setColor("black");
  ctx.lineWidth = 2.5;
  clearCanvas();
  paintingSize.addEventListener("input", onChangePaintingSize);
  btns.addEventListener("click", onBtnClick);
};

if (canvas) {
  init();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhaW50LmpzIl0sIm5hbWVzIjpbImNhbnZhcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImN0eCIsImdldENvbnRleHQiLCJidG5zIiwicGFpbnRpbmdTaXplIiwiaXNQYWludGluZyIsImlzRmlsbGluZyIsImNsZWFyQ2FudmFzIiwicHJldmlvdXNTdHlsZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJvbk1vdXNlTW92ZSIsImV2ZW50IiwieCIsIm9mZnNldFgiLCJ5Iiwib2Zmc2V0WSIsImNvbnNvbGUiLCJsb2ciLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJzdGFydFBhaW50aW5nIiwic3RvcFBhaW50aW5nIiwib25DaGFuZ2VQYWludGluZ1NpemUiLCJsaW5lV2lkdGgiLCJ0YXJnZXQiLCJ2YWx1ZSIsIm9uQ2FudmFzQ2xpY2siLCJoYW5kbGVDb250cm9sIiwiY29udHJvbCIsImJ0biIsImlubmVySFRNTCIsImRhdGFzZXQiLCJFcnJvciIsInNldENvbG9yIiwic3Ryb2tlU3R5bGUiLCJvbkJ0bkNsaWNrIiwia2V5IiwidGV4dCIsInNwYW4iLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJUZXh0IiwiYXBwZW5kQ2hpbGQiLCJvblRvdWNoU3RhcnQiLCJwcmV2ZW50RGVmYXVsdCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0YXJnZXRUb3VjaGVzIiwicGFnZVgiLCJsZWZ0IiwicGFnZVkiLCJ0b3AiLCJvblRvdWNoTW92ZSIsImluaXQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsTUFBTSxHQUFHQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsV0FBdkIsQ0FBZjtBQUNBLElBQU1DLEdBQUcsR0FBR0gsTUFBTSxDQUFDSSxVQUFQLENBQWtCLElBQWxCLENBQVo7QUFDQSxJQUFNQyxJQUFJ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OztBQXdCQSxJQUFJMUMsTUFBSixFQUFZO0FBQ1IyRCxFQUFBQSxJQUFJO0FBQ1AiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pzQ2FudmFzXCIpO1xyXG5jb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5jb25zdCBidG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW52YXNDb250YWluZXJcIik7XHJcbmNvbnN0IHBhaW50aW5nU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjanNCcnVzaFNpemVcIik7XHJcblxyXG5sZXQgaXNQYWludGluZyA9IGZhbHNlO1xyXG5sZXQgaXNGaWxsaW5nID0gZmFsc2U7XHJcblxyXG5jb25zdCBjbGVhckNhbnZhcyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHByZXZpb3VzU3R5bGUgPSBjdHguZmlsbFN0eWxlO1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9IHByZXZpb3VzU3R5bGU7XHJcbn07XHJcblxyXG5jb25zdCBvbk1vdXNlTW92ZSA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKGlzRmlsbGluZyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgb2Zmc2V0WDogeCwgb2Zmc2V0WTogeSB9ID0gZXZlbnQ7XHJcbiAgICBjb25zb2xlLmxvZyh4LCB5KTtcclxuICAgIGlmIChpc1BhaW50aW5nID09IGZhbHNlKSB7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgeSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3Qgc3RhcnRQYWludGluZyA9ICgpID0+IHtcclxuICAgIGlzUGFpbnRpbmcgPSB0cnVlO1xyXG59O1xyXG5cclxuY29uc3Qgc3RvcFBhaW50aW5nID0gKCkgPT4ge1xyXG4gICAgaXNQYWludGluZyA9IGZhbHNlO1xyXG59O1xyXG5cclxuY29uc3Qgb25DaGFuZ2VQYWludGluZ1NpemUgPSAoZXZlbnQpID0+IHtcclxuICAgIGN0eC5saW5lV2lkdGggPSBldmVudC50YXJnZXQudmFsdWU7XHJcbn07XHJcblxyXG5jb25zdCBvbkNhbnZhc0NsaWNrID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoaXNGaWxsaW5nID09PSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUNvbnRyb2wgPSAoY29udHJvbCwgYnRuKSA9PiB7XHJcbiAgICBzd2l0Y2ggKGNvbnRyb2wpIHtcclxuICAgICAgICBjYXNlIFwiZmlsbFwiOlxyXG4gICAgICAgICAgICBpc0ZpbGxpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gXCJQQUlOVFwiO1xyXG4gICAgICAgICAgICBidG4uZGF0YXNldC52YWx1ZSA9IFwicGFpbnRcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcInBhaW50XCI6XHJcbiAgICAgICAgICAgIGlzRmlsbGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gXCJGSUxMXCI7XHJcbiAgICAgICAgICAgIGJ0bi5kYXRhc2V0LnZhbHVlID0gXCJmaWxsXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJjbGVhclwiOlxyXG4gICAgICAgICAgICBjbGVhckNhbnZhcygpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBFcnJvcihcInVua25vd2VuIGNvbnRyb2xcIik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3Qgc2V0Q29sb3IgPSAodmFsdWUpID0+IHtcclxuICAgIGN0eC5zdHJva2VTdHlsZSA9IHZhbHVlO1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9IGN0eC5zdHJva2VTdHlsZTtcclxufTtcclxuXHJcbmNvbnN0IG9uQnRuQ2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQ7XHJcblxyXG4gICAgaWYgKGtleSA9PSBudWxsIHx8IHZhbHVlID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICBpZiAoa2V5ID09PSBcImNvbnRyb2xcIikge1xyXG4gICAgICAgIGhhbmRsZUNvbnRyb2wodmFsdWUsIGV2ZW50LnRhcmdldCk7XHJcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJjb2xvclwiKSB7XHJcbiAgICAgICAgc2V0Q29sb3IodmFsdWUpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgbG9nID0gKHRleHQpID0+IHtcclxuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgIHNwYW4uaW5uZXJUZXh0ID0gdGV4dDtcclxuICAgIGJ0bnMuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcbn07XHJcblxyXG5jb25zdCBvblRvdWNoU3RhcnQgPSAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAoaXNGaWxsaW5nKSB7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY29uc3QgcmVjdCA9IGV2ZW50LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IHggPSBldmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIC0gcmVjdC5sZWZ0O1xyXG4gICAgY29uc3QgeSA9IGV2ZW50LnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgLSByZWN0LnRvcDtcclxuICAgIGN0eC5tb3ZlVG8oeCwgeSk7XHJcbn07XHJcblxyXG5jb25zdCBvblRvdWNoTW92ZSA9IChldmVudCkgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IHJlY3QgPSBldmVudC50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCB4ID0gZXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCAtIHJlY3QubGVmdDtcclxuICAgIGNvbnN0IHkgPSBldmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIC0gcmVjdC50b3A7XHJcbiAgICBjdHgubGluZVRvKHgsIHkpO1xyXG4gICAgY3R4LnN0cm9rZSgpO1xyXG59O1xyXG5cclxuY29uc3QgaW5pdCA9ICgpID0+IHtcclxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uTW91c2VNb3ZlKTtcclxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHN0YXJ0UGFpbnRpbmcpO1xyXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHN0b3BQYWludGluZyk7XHJcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgc3RvcFBhaW50aW5nKTtcclxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25DYW52YXNDbGljayk7XHJcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIG9uVG91Y2hNb3ZlKTtcclxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBvblRvdWNoU3RhcnQpO1xyXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBzdG9wUGFpbnRpbmcpO1xyXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLCBzdG9wUGFpbnRpbmcpO1xyXG4gICAgY2FudmFzLndpZHRoID0gY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcbiAgICBzZXRDb2xvcihcImJsYWNrXCIpO1xyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDIuNTtcclxuICAgIGNsZWFyQ2FudmFzKCk7XHJcblxyXG4gICAgcGFpbnRpbmdTaXplLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBvbkNoYW5nZVBhaW50aW5nU2l6ZSk7XHJcblxyXG4gICAgYnRucy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25CdG5DbGljayk7XHJcbn07XHJcblxyXG5pZiAoY2FudmFzKSB7XHJcbiAgICBpbml0KCk7XHJcbn1cclxuIl19
},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.initSockets = exports.events = exports.socket = void 0;

var _notifications = require("./notifications");

var _chat = require("./chat");

var socket = null;
exports.socket = socket;
var events = window.events;
exports.events = events;

var initSockets = function initSockets() {
  exports.socket = socket = io("/");
  socket.on(events.newUser, _notifications.handleNewUser);
  socket.on(events.disconnected, _notifications.handleDisconnectedUser);
  socket.on(events.newMsg, _chat.handleNewMsg);
};

exports.initSockets = initSockets;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldHMuanMiXSwibmFtZXMiOlsic29ja2V0IiwiZXZlbnRzIiwid2luZG93IiwiaW5pdFNvY2tldHMiLCJpbyIsIm9uIiwibmV3VXNlciIsImhhbmRsZU5ld1VzZXIiLCJkaXNjb25uZWN0ZWQiLCJoYW5kbGVEaXNjb25uZWN0ZWRVc2VyIiwibmV3TXNnIiwiaGFuZGxlTmV3TXNnIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBRU8sSUFBSUEsTUFBTSxHQUFHLElBQWI7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHQyxNQUFNLENBQUNELE1BQXRCOzs7QUFFQSxJQUFNRSxXQUFXLEdBQUcsU0FBZEEsV0FBYyxHQUFNO0FBQzdCLG1CQUFBSCxNQUFNLEdBQUdJLEVBQUUsQ0FBQyxHQUFELENBQVg7QUFDQUosRUFBQUEsTUFBTSxDQUFDSyxFQUFQLENBQVVKLE1BQU0sQ0FBQ0ssT0FBakIsRUFBMEJDLDRCQUExQjtBQUNBUCxFQUFBQSxNQUFNLENBQUNLLEVBQVAsQ0FBVUosTUFBTSxDQUFDTyxZQUFqQixFQUErQkMscUNBQS9CO0FBQ0FULEVBQUFBLE1BQU0sQ0FBQ0ssRUFBUCxDQUFVSixNQUFNLENBQUNTLE1BQWpCLEVBQXlCQyxrQkFBekI7QUFDSCxDQUxNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFuZGxlTmV3VXNlciwgaGFuZGxlRGlzY29ubmVjdGVkVXNlciB9IGZyb20gXCIuL25vdGlmaWNhdGlvbnNcIjtcclxuaW1wb3J0IHsgaGFuZGxlTmV3TXNnIH0gZnJvbSBcIi4vY2hhdFwiO1xyXG5cclxuZXhwb3J0IGxldCBzb2NrZXQgPSBudWxsO1xyXG5leHBvcnQgY29uc3QgZXZlbnRzID0gd2luZG93LmV2ZW50cztcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0U29ja2V0cyA9ICgpID0+IHtcclxuICAgIHNvY2tldCA9IGlvKFwiL1wiKTtcclxuICAgIHNvY2tldC5vbihldmVudHMubmV3VXNlciwgaGFuZGxlTmV3VXNlcik7XHJcbiAgICBzb2NrZXQub24oZXZlbnRzLmRpc2Nvbm5lY3RlZCwgaGFuZGxlRGlzY29ubmVjdGVkVXNlcik7XHJcbiAgICBzb2NrZXQub24oZXZlbnRzLm5ld01zZywgaGFuZGxlTmV3TXNnKTtcclxufTtcclxuIl19
},{"./chat":1,"./notifications":4}]},{},[2])