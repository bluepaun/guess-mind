(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

require("./sockets");

require("./login");

require("./notifications");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZha2VfZmE0NWMzZTMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4vc29ja2V0c1wiO1xyXG5pbXBvcnQgXCIuL2xvZ2luXCI7XHJcbmltcG9ydCBcIi4vbm90aWZpY2F0aW9uc1wiO1xyXG4iXX0=
},{"./login":2,"./notifications":3,"./sockets":4}],2:[function(require,module,exports){
"use strict";

var _sockets = require("./sockets");

var body = document.querySelector("body");
var loginForm = document.querySelector("#jsLogin");
var LS_KEY_NICKNAME = "nickname";
var LOGGED_OUT = "loggedOut";
var LOGGED_IN = "loggedIn";
var nickname = localStorage.getItem(LS_KEY_NICKNAME);

var logIn = function logIn(nickname) {
  body.className = LOGGED_IN;
  (0, _sockets.initSockets)();

  _sockets.socket.emit(_sockets.events.setNickname, {
    nickname: nickname
  });
};

if (nickname === null) {
  body.className = LOGGED_OUT;
} else {
  logIn(nickname);
}

if (loginForm) {
  var handleFormSubmit = function handleFormSubmit(event) {
    event.preventDefault();
    var input = loginForm.querySelector("input");
    var nickname = input.value;
    input.value = "";
    localStorage.setItem(LS_KEY_NICKNAME, nickname);
    logIn(nickname);
  };

  loginForm.addEventListener("submit", handleFormSubmit);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmpzIl0sIm5hbWVzIjpbImJvZHkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJsb2dpbkZvcm0iLCJMU19LRVlfTklDS05BTUUiLCJMT0dHRURfT1VUIiwiTE9HR0VEX0lOIiwibmlja25hbWUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibG9nSW4iLCJjbGFzc05hbWUiLCJzb2NrZXQiLCJlbWl0IiwiZXZlbnRzIiwic2V0Tmlja25hbWUiLCJoYW5kbGVGb3JtU3VibWl0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0IiwidmFsdWUiLCJzZXRJdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFFQSxJQUFNQSxJQUFJLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixNQUF2QixDQUFiO0FBQ0EsSUFBTUMsU0FBUyxHQUFHRixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsVUFBdkIsQ0FBbEI7QUFFQSxJQUFNRSxlQUFlLEdBQUcsVUFBeEI7QUFDQSxJQUFNQyxVQUFVLEdBQUcsV0FBbkI7QUFDQSxJQUFNQyxTQUFTLEdBQUcsVUFBbEI7QUFFQSxJQUFNQyxRQUFRLEdBQUdDLFlBQVksQ0FBQ0MsT0FBYixDQUFxQkwsZUFBckIsQ0FBakI7O0FBRUEsSUFBTU0sS0FBSyxHQUFHLFNBQVJBLEtBQVEsQ0FBQ0gsUUFBRCxFQUFjO0FBQ3hCUCxFQUFBQSxJQUFJLENBQUNXLFNBQUwsR0FBaUJMLFNBQWpCO0FBQ0E7O0FBQ0FNLGtCQUFPQyxJQUFQLENBQVlDLGdCQUFPQyxXQUFuQixFQUFnQztBQUFFUixJQUFBQSxRQUFRLEVBQVJBO0FBQUYsR0FBaEM7QUFDSCxDQUpEOztBQU1BLElBQUlBLFFBQVEsS0FBSyxJQUFqQixFQUF1QjtBQUNuQlAsRUFBQUEsSUFBSSxDQUFDVyxTQUFMLEdBQWlCTixVQUFqQjtBQUNILENBRkQsTUFFTztBQUNISyxFQUFBQSxLQUFLLENBQUNILFFBQUQsQ0FBTDtBQUNIOztBQUVELElBQUlKLFNBQUosRUFBZTtBQUNYLE1BQU1hLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBQ0MsS0FBRCxFQUFXO0FBQ2hDQSxJQUFBQSxLQUFLLENBQUNDLGNBQU47QUFDQSxRQUFNQyxLQUFLLEdBQUdoQixTQUFTLENBQUNELGFBQVYsQ0FBd0IsT0FBeEIsQ0FBZDtBQUZnQyxRQUdqQkssUUFIaUIsR0FHSlksS0FISSxDQUd4QkMsS0FId0I7QUFJaENELElBQUFBLEtBQUssQ0FBQ0MsS0FBTixHQUFjLEVBQWQ7QUFDQVosSUFBQUEsWUFBWSxDQUFDYSxPQUFiLENBQXFCakIsZUFBckIsRUFBc0NHLFFBQXRDO0FBQ0FHLElBQUFBLEtBQUssQ0FBQ0gsUUFBRCxDQUFMO0FBQ0gsR0FQRDs7QUFRQUosRUFBQUEsU0FBUyxDQUFDbUIsZ0JBQVYsQ0FBMkIsUUFBM0IsRUFBcUNOLGdCQUFyQztBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdFNvY2tldHMsIHNvY2tldCwgZXZlbnRzIH0gZnJvbSBcIi4vc29ja2V0c1wiO1xyXG5cclxuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xyXG5jb25zdCBsb2dpbkZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pzTG9naW5cIik7XHJcblxyXG5jb25zdCBMU19LRVlfTklDS05BTUUgPSBcIm5pY2tuYW1lXCI7XHJcbmNvbnN0IExPR0dFRF9PVVQgPSBcImxvZ2dlZE91dFwiO1xyXG5jb25zdCBMT0dHRURfSU4gPSBcImxvZ2dlZEluXCI7XHJcblxyXG5jb25zdCBuaWNrbmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKExTX0tFWV9OSUNLTkFNRSk7XHJcblxyXG5jb25zdCBsb2dJbiA9IChuaWNrbmFtZSkgPT4ge1xyXG4gICAgYm9keS5jbGFzc05hbWUgPSBMT0dHRURfSU47XHJcbiAgICBpbml0U29ja2V0cygpO1xyXG4gICAgc29ja2V0LmVtaXQoZXZlbnRzLnNldE5pY2tuYW1lLCB7IG5pY2tuYW1lIH0pO1xyXG59O1xyXG5cclxuaWYgKG5pY2tuYW1lID09PSBudWxsKSB7XHJcbiAgICBib2R5LmNsYXNzTmFtZSA9IExPR0dFRF9PVVQ7XHJcbn0gZWxzZSB7XHJcbiAgICBsb2dJbihuaWNrbmFtZSk7XHJcbn1cclxuXHJcbmlmIChsb2dpbkZvcm0pIHtcclxuICAgIGNvbnN0IGhhbmRsZUZvcm1TdWJtaXQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gbG9naW5Gb3JtLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcclxuICAgICAgICBjb25zdCB7IHZhbHVlOiBuaWNrbmFtZSB9ID0gaW5wdXQ7XHJcbiAgICAgICAgaW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExTX0tFWV9OSUNLTkFNRSwgbmlja25hbWUpO1xyXG4gICAgICAgIGxvZ0luKG5pY2tuYW1lKTtcclxuICAgIH07XHJcbiAgICBsb2dpbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVGb3JtU3VibWl0KTtcclxufVxyXG4iXX0=
},{"./sockets":4}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.handleDisconnectedUser = exports.handleNewUser = void 0;

var _sockets = require("./sockets");

var notificationContainer = document.querySelector("#jsNotification");
var NEW_USER_COLOR = "#2196f3";
var DISCONNECTED_COLOR = "#D50000";

var fireNotification = function fireNotification(text, event) {
  var noti = document.createElement("div");
  noti.innerHTML = text;

  if (event === _sockets.events.newUser) {
    noti.style.backgroundColor = NEW_USER_COLOR;
  } else {
    noti.style.backgroundColor = DISCONNECTED_COLOR;
  }

  notificationContainer.appendChild(noti);
};

var handleNewUser = function handleNewUser(_ref) {
  var nickname = _ref.nickname;
  fireNotification("".concat(nickname, " just joins!"), _sockets.events.newUser);
};

exports.handleNewUser = handleNewUser;

var handleDisconnectedUser = function handleDisconnectedUser(_ref2) {
  var nickname = _ref2.nickname;
  fireNotification("".concat(nickname, " just left"), _sockets.events.disconnected);
};

exports.handleDisconnectedUser = handleDisconnectedUser;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGlmaWNhdGlvbnMuanMiXSwibmFtZXMiOlsibm90aWZpY2F0aW9uQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiTkVXX1VTRVJfQ09MT1IiLCJESVNDT05ORUNURURfQ09MT1IiLCJmaXJlTm90aWZpY2F0aW9uIiwidGV4dCIsImV2ZW50Iiwibm90aSIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJldmVudHMiLCJuZXdVc2VyIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhcHBlbmRDaGlsZCIsImhhbmRsZU5ld1VzZXIiLCJuaWNrbmFtZSIsImhhbmRsZURpc2Nvbm5lY3RlZFVzZXIiLCJkaXNjb25uZWN0ZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFNQSxxQkFBcUIsR0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLGlCQUF2QixDQUE5QjtBQUVBLElBQU1DLGNBQWMsR0FBRyxTQUF2QjtBQUNBLElBQU1DLGtCQUFrQixHQUFHLFNBQTNCOztBQUVBLElBQU1DLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBQ0MsSUFBRCxFQUFPQyxLQUFQLEVBQWlCO0FBQ3RDLE1BQU1DLElBQUksR0FBR1AsUUFBUSxDQUFDUSxhQUFULENBQXVCLEtBQXZCLENBQWI7QUFDQUQsRUFBQUEsSUFBSSxDQUFDRSxTQUFMLEdBQWlCSixJQUFqQjs7QUFDQSxNQUFJQyxLQUFLLEtBQUtJLGdCQUFPQyxPQUFyQixFQUE4QjtBQUMxQkosSUFBQUEsSUFBSSxDQUFDSyxLQUFMLENBQVdDLGVBQVgsR0FBNkJYLGNBQTdCO0FBQ0gsR0FGRCxNQUVPO0FBQ0hLLElBQUFBLElBQUksQ0FBQ0ssS0FBTCxDQUFXQyxlQUFYLEdBQTZCVixrQkFBN0I7QUFDSDs7QUFDREosRUFBQUEscUJBQXFCLENBQUNlLFdBQXRCLENBQWtDUCxJQUFsQztBQUNILENBVEQ7O0FBV08sSUFBTVEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixPQUFrQjtBQUFBLE1BQWZDLFFBQWUsUUFBZkEsUUFBZTtBQUMzQ1osRUFBQUEsZ0JBQWdCLFdBQUlZLFFBQUosbUJBQTRCTixnQkFBT0MsT0FBbkMsQ0FBaEI7QUFDSCxDQUZNOzs7O0FBSUEsSUFBTU0sc0JBQXNCLEdBQUcsU0FBekJBLHNCQUF5QixRQUFrQjtBQUFBLE1BQWZELFFBQWUsU0FBZkEsUUFBZTtBQUNwRFosRUFBQUEsZ0JBQWdCLFdBQUlZLFFBQUosaUJBQTBCTixnQkFBT1EsWUFBakMsQ0FBaEI7QUFDSCxDQUZNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXZlbnRzIH0gZnJvbSBcIi4vc29ja2V0c1wiO1xyXG5cclxuY29uc3Qgbm90aWZpY2F0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqc05vdGlmaWNhdGlvblwiKTtcclxuXHJcbmNvbnN0IE5FV19VU0VSX0NPTE9SID0gXCIjMjE5NmYzXCI7XHJcbmNvbnN0IERJU0NPTk5FQ1RFRF9DT0xPUiA9IFwiI0Q1MDAwMFwiO1xyXG5cclxuY29uc3QgZmlyZU5vdGlmaWNhdGlvbiA9ICh0ZXh0LCBldmVudCkgPT4ge1xyXG4gICAgY29uc3Qgbm90aSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBub3RpLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICBpZiAoZXZlbnQgPT09IGV2ZW50cy5uZXdVc2VyKSB7XHJcbiAgICAgICAgbm90aS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBORVdfVVNFUl9DT0xPUjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbm90aS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBESVNDT05ORUNURURfQ09MT1I7XHJcbiAgICB9XHJcbiAgICBub3RpZmljYXRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQobm90aSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaGFuZGxlTmV3VXNlciA9ICh7IG5pY2tuYW1lIH0pID0+IHtcclxuICAgIGZpcmVOb3RpZmljYXRpb24oYCR7bmlja25hbWV9IGp1c3Qgam9pbnMhYCwgZXZlbnRzLm5ld1VzZXIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGhhbmRsZURpc2Nvbm5lY3RlZFVzZXIgPSAoeyBuaWNrbmFtZSB9KSA9PiB7XHJcbiAgICBmaXJlTm90aWZpY2F0aW9uKGAke25pY2tuYW1lfSBqdXN0IGxlZnRgLCBldmVudHMuZGlzY29ubmVjdGVkKTtcclxufTtcclxuIl19
},{"./sockets":4}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.initSockets = exports.events = exports.socket = void 0;

var _notifications = require("./notifications");

var socket = null;
exports.socket = socket;
var events = window.events;
exports.events = events;

var initSockets = function initSockets() {
  exports.socket = socket = io("/");
  socket.on(events.newUser, _notifications.handleNewUser);
  socket.on(events.disconnected, _notifications.handleDisconnectedUser);
};

exports.initSockets = initSockets;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldHMuanMiXSwibmFtZXMiOlsic29ja2V0IiwiZXZlbnRzIiwid2luZG93IiwiaW5pdFNvY2tldHMiLCJpbyIsIm9uIiwibmV3VXNlciIsImhhbmRsZU5ld1VzZXIiLCJkaXNjb25uZWN0ZWQiLCJoYW5kbGVEaXNjb25uZWN0ZWRVc2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRU8sSUFBSUEsTUFBTSxHQUFHLElBQWI7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHQyxNQUFNLENBQUNELE1BQXRCOzs7QUFFQSxJQUFNRSxXQUFXLEdBQUcsU0FBZEEsV0FBYyxHQUFNO0FBQzdCLG1CQUFBSCxNQUFNLEdBQUdJLEVBQUUsQ0FBQyxHQUFELENBQVg7QUFDQUosRUFBQUEsTUFBTSxDQUFDSyxFQUFQLENBQVVKLE1BQU0sQ0FBQ0ssT0FBakIsRUFBMEJDLDRCQUExQjtBQUNBUCxFQUFBQSxNQUFNLENBQUNLLEVBQVAsQ0FBVUosTUFBTSxDQUFDTyxZQUFqQixFQUErQkMscUNBQS9CO0FBQ0gsQ0FKTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhbmRsZU5ld1VzZXIsIGhhbmRsZURpc2Nvbm5lY3RlZFVzZXIgfSBmcm9tIFwiLi9ub3RpZmljYXRpb25zXCI7XHJcblxyXG5leHBvcnQgbGV0IHNvY2tldCA9IG51bGw7XHJcbmV4cG9ydCBjb25zdCBldmVudHMgPSB3aW5kb3cuZXZlbnRzO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRTb2NrZXRzID0gKCkgPT4ge1xyXG4gICAgc29ja2V0ID0gaW8oXCIvXCIpO1xyXG4gICAgc29ja2V0Lm9uKGV2ZW50cy5uZXdVc2VyLCBoYW5kbGVOZXdVc2VyKTtcclxuICAgIHNvY2tldC5vbihldmVudHMuZGlzY29ubmVjdGVkLCBoYW5kbGVEaXNjb25uZWN0ZWRVc2VyKTtcclxufTtcclxuIl19
},{"./notifications":3}]},{},[1])